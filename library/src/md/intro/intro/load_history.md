# Исторические котировки

Пользователи T-Invest API могут получать исторические рыночные данные по
инструментам. Для загрузки истории котировок можно воспользоваться Unary-методом
[GetCandles](/invest/services/quotes/marketdata#getcandles) [сервиса котировок](/invest/services/quotes/head-marketdata).

Дата начала истории по одному и тому же инструменту может отличаться на разных интервалах свечей, а глубина исторических данных может быть разной для разных инструментов — это связано с особенностями получения исторических данных в [Т-Инвестициях](https://www.tbank.ru/invest/).

В T-Invest API есть ограничение на максимальную длину запрашиваемого интервала — это нужно, чтобы сократить нагрузку на инфраструктуру системы. Ограничение зависит от интервала свечи.
Максимальное значение интервала ориентировочное и может отличаться в большую сторону в зависимости от параметров запроса.

| Интервал свечи | Допустимый период                                                   |
|:---------------|:--------------------------------------------------------------------|
| 1 минута       | От 1 минуты до 1 дня. Максимальное значение `limit` — 2400.         |
| 2 минуты       | От 2 минут до 1 дня. Максимальное значение `limit` — 1200.          |
| 3 минуты       | От 3 минут до 1 дня. Максимальное значение `limit` — 750.           |
| 5 минут        | От 5 минут до недели. Максимальное значение `limit` — 2400.         |
| 10 минут       | От 10 минут до недели. Максимальное значение `limit` — 1200.        |
| 15 минут       | От 15 минут до 3 недель. Максимальное значение `limit` — 2400.      |
| 30 минут       | От 30 минут до 3 недель. Максимальное значение `limit` — 1200.      |
| 1 час          | От 1 часа до 3 месяцев. Максимальное значение `limit` — 2400.       |
| 2 часа         | От 2 часов до 3 месяцев. Максимальное значение `limit` — 2400.      |
| 4 часа         | От 4 часов до 3 месяцев. Максимальное значение `limit` — 700.       |
| 1 день         | От 1 дня до 6 лет. Максимальное значение `limit` — 2400.            |
| 1 неделя       | От 1 недели до 5 лет. Максимальное значение `limit` — 300.          |
| 1 месяц        | От 1 месяца до 10 лет. Максимальное значение `limit` — 120.         |
| 5 секунд       | От 5 секунд до 200 минут. Максимальное значение `limit` — 2500.     |
| 10 секунд      | От 10 секунд до 200 минут. Максимальное значение `limit` — 1250.    |
| 30 секунд      | От 30 секунд до 20 часов. Максимальное значение `limit` — 2500.     |

Свечи секундных интервалов доступны только за последний месяц.

В методах сервиса инструментов для получения информации о дате начала истории добавлены параметры `first_1min_candle_date` и `first_1day_candle_date`.

Вы можете получить архивы с историческими данными как за один инструмент, так и по списку инструментов, воспользовавшись специально подготовленным [скриптом](/invest/services/quotes/get_history#скрипт).